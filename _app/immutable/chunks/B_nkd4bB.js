import{a3 as q,E as x,ax as z,ak as B,e as L,ay as M,az as P,q as U,aA as m,aB as F,u as $,aC as j,aD as D}from"./CJvYLFih.js";import{a as G}from"./B_WVKbqr.js";const K=()=>performance.now(),c={tick:r=>requestAnimationFrame(r),now:()=>K(),tasks:new Set};function g(){const r=c.now();c.tasks.forEach(t=>{t.c(r)||(c.tasks.delete(t),t.f())}),c.tasks.size!==0&&c.tick(g)}function W(r){let t;return c.tasks.size===0&&c.tick(g),{promise:new Promise(a=>{c.tasks.add(t={c:r,f:a})}),abort(){c.tasks.delete(t)}}}function N(r,t){F(()=>{r.dispatchEvent(new CustomEvent(t))})}function H(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function S(r){const t={},a=r.split(";");for(const i of a){const[e,o]=i.split(":");if(!e||o===void 0)break;const f=H(e.trim());t[f]=o.trim()}return t}const J=r=>r;function Y(r,t,a,i){var e=(r&j)!==0,o=(r&D)!==0,f=e&&o,w=(r&M)!==0,b=f?"both":e?"in":"out",v,d=t.inert,T=t.style.overflow,u,p;function h(){return F(()=>v??=a()(t,i?.()??{},{direction:b}))}var n={is_global:w,in(){if(t.inert=d,!e){p?.abort(),p?.reset?.();return}o||u?.abort(),u=E(t,h(),p,1,()=>{N(t,"introend"),u?.abort(),u=v=void 0,t.style.overflow=T})},out(k){if(!o){k?.(),v=void 0;return}t.inert=!0,p=E(t,h(),u,0,()=>{N(t,"outroend"),k?.()})},stop:()=>{u?.abort(),p?.abort()}},_=q;if((_.nodes.t??=[]).push(n),e&&G){var l=w;if(!l){for(var s=_.parent;s&&(s.f&x)!==0;)for(;(s=s.parent)&&(s.f&z)===0;);l=!s||(s.f&B)!==0}l&&L(()=>{$(()=>n.in())})}}function E(r,t,a,i,e){var o=i===1;if(P(t)){var f,w=!1;return U(()=>{if(!w){var _=t({direction:o?"in":"out"});f=E(r,_,a,i,e)}}),{abort:()=>{w=!0,f?.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(a?.deactivate(),!t?.duration&&!t?.delay)return N(r,o?"introstart":"outrostart"),e(),{abort:m,deactivate:m,reset:m,t:()=>i};const{delay:b=0,css:v,tick:d,easing:T=J}=t;var u=[];if(o&&a===void 0&&(d&&d(0,1),v)){var p=S(v(0,1));u.push(p,p)}var h=()=>1-i,n=r.animate(u,{duration:b,fill:"forwards"});return n.onfinish=()=>{n.cancel(),N(r,o?"introstart":"outrostart");var _=a?.t()??1-i;a?.abort();var l=i-_,s=t.duration*Math.abs(l),k=[];if(s>0){var C=!1;if(v)for(var I=Math.ceil(s/16.666666666666668),A=0;A<=I;A+=1){var O=_+l*T(A/I),R=S(v(O,1-O));k.push(R),C||=R.overflow==="hidden"}C&&(r.style.overflow="hidden"),h=()=>{var y=n.currentTime;return _+l*T(y/s)},d&&W(()=>{if(n.playState!=="running")return!1;var y=h();return d(y,1-y),!0})}n=r.animate(k,{duration:s,fill:"forwards"}),n.onfinish=()=>{h=()=>i,d?.(i,1-i),e()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=m)},deactivate:()=>{e=m},reset:()=>{i===0&&d?.(1,0)},t:()=>h()}}const Q=r=>r;function Z(r,{delay:t=0,duration:a=400,easing:i=Q}={}){const e=+getComputedStyle(r).opacity;return{delay:t,duration:a,easing:i,css:o=>`opacity: ${o*e}`}}export{Z as f,Y as t};
